- step:
    name: install-dependencies
    image: docker.io/python:3.9.5
    command:
        - pip install -r requirements.txt
    inputs:
      - name: requirements
        default: datum://018e2f1b-f710-e809-cbdd-530b23ee8f92

- step:
    name: yolo-training
    image: docker.io/ultralytics/ultralytics:8.0.180-python
    command:
      - python train-model.py --epochs 2 --optimizer "SGD"
    inputs:
      - name: dataset
        default: datum://018e2f1a-8ed8-79cf-9a6b-2fbc34140f35
    parameters:
      - name: epochs
        type: integer
        default: 2
      - name: optimizer
        type: string
        default: SGD

- step:
    name: yolo-inference
    image: docker.io/ultralytics/ultralytics:8.0.180-python
    command:
      - python predict.py
    inputs:
        - name: model
          default: datum://018e2f1a-34c6-c6f5-022a-86240fbe4ff7
        - name: images
          default: datum://018e2f19-95a0-6f1e-42d2-de0a659c6d7e

- pipeline:
    name: training-inference-pipeline
    nodes:
      - name: setup project
        type: execution
        step: install-dependencies
      - name: training
        type: execution
        step: yolo-training
      - name: inference
        type: execution
        step: yolo-inference
    edges: []


